---
title: Android 12 刷入 Magisk 模块后无法开机的解决方法
date: 2022-03-15 16:33:58
updated: 2022-03-16 16:33:52
tags: ['Android 12','Color OS','刷机','一加']
categories:
- Android 12
- Color OS
- 刷机
- 一加
description: 习惯性闷声作死的我，这次又给大伙整了什么新活呢？敬请收看《可怜的打工人才不会在凌晨四点9008救砖这点事》。 
---
# 起因

笔者的机器是 OnePlus 8 T, 这几天更新了Color OS 12公测版（Based Android 12），作为一个酷安机佬，自然是忍不住刷机的冲动。

本地升级之后使用体验比氢氧好得多，只是耗电量陡增。看酷安的机友说，从H2OS更新到颜色系统，最好是进行一次双清。俺寻思从小到大刷机这么七八年了，什么大风大浪没见过？数据备份完成之后就是一把梭直接重启到 REC 模式双清数据。

然后就是大家喜闻乐见的环节：提取 boot.img 文件，写入 Magisk，进入 fastboot 模式刷入 boot.img 获取 root 权限。

由于 Android 12 没有可用的 TWRP，这对于需要折腾 Magisk 和 Xposed 的机友来说实在是不太友好，一个失误操作直接卡第一屏，就可以准备后事哦不高通9008了。（**比如我，闷声作大死，第二天要打工还刷机，直接给我整到凌晨四点。**）

由于 Magisk 只是修改了系统的 boot 分区，可以通过重新刷入官方 ROM 的 boot.img 重新开机，但是这样开机之后，是没有 root 权限的，也没有办法删除 Magisk 里面不兼容的 Module。之后如果然后手动重新给 boot.img 打上 root 补丁，又会陷入无法开机的死循环中。最后没办法只能双清重刷，非常难受。

# 解决方法

但是！但是！但是！可喜可贺的是，在 Android 12 下的 Magisk 更新了一个非常有用的功能（准确来说应该是在 Magisk 23 之后的版本引入的特性功能）：**如果 Magisk 检测到手机进入安全模式之后，就会自动禁用所有模块（并不会删除）**。这简直就是没有 TWRP 机友的福音！

## 安全模式救砖：

具体来说，就是如果刷入了不兼容的 Module，然后开机卡第一屏，那么可以强制关机，然后在关机状态下，直接进入安全模式，Magisk 就会禁用所有的 Modules，然后再次重启机器进入正常模式，这个时候因为所有的 Modules 都是禁用状态，所以可以正常开机，开机之后机器还是 root 状态，这时候直接删掉不兼容的 Module 就行了。

1. 设备关机状态下，按电源键开机
2. 待出现 bootloader 已解锁的安全提示后，直接按住“音量减”键，直到进入桌面
3. 屏幕左下方显示“安全模式”即表示成功

PS： 上面介绍的是 Android 官方的通用方式，如果你的设备比较特别的话，可能需要自己 Google 一下如何进入安全模式。

PPS：另外再说一种有点暴力和局限性的方法，但是比上面这个更彻底，开机之后 Magisk 会删掉所有 Modules，当然也会丢失 root 权限，需要重新给 boot.img 打补丁来 root 设备，但是总比变砖或者线刷要好吧。

## 其他救砖方法
这个方法从是让 ADB 等待设备进入引导屏幕，然后 ADB 开始工作， ADB 会删除所有已安装的 Magisk Modules 来确保机器能够进入系统。

1. 确保设备在关机状态下

2. 使用数据线将手机连接到已经安装了 ADB 的电脑上

3. 电脑进入 ADB 文件夹，执行以下命令

   ```shell
   adb wait-for-device shell magisk --remove-modules
   ```

4. 按住电源键开机，并且不松开，直到进入桌面

如果上面这两种方法都无法拯救你的爱机的话，就只能9008了。具体见[大侠阿木的博客](https://yun.daxiaamu.com/OnePlus_Roms/)，另外，强推阿木大佬的一加全能盒子！

# 总结

新的一年没啥好祝福大🔥的，只好祝大家刷机必卡米，9008一路顺畅！
